<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Neova - 收案列表</title>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Custom styles for this template-->
    <link href="./neoCare.css" rel="stylesheet" />
  </head>
  <body>
    <div class="login-container">
      <div class="login-form-section">
        <div class="logo" style="cursor: default;">
          <div class="">
            <svg
              width="26"
              height="18"
              viewBox="0 0 26 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M8.85807 2C5.07072 2 2 5.07071 2 8.85807C2 12.6454 5.07072 15.7161 8.85807 15.7161C12.6454 15.7161 15.7161 12.6454 15.7161 8.85807"
                stroke="#CC20FF"
                stroke-width="3.33321"
                stroke-miterlimit="10"
                stroke-linecap="round"
              />
              <path
                d="M17.1519 15.7495C20.9392 15.7495 24.0099 12.6788 24.0099 8.89143C24.0099 5.10408 20.9392 2.03336 17.1519 2.03336C13.3645 2.03336 10.2938 5.10408 10.2938 8.89143"
                stroke="#CC20FF"
                stroke-width="3.33321"
                stroke-miterlimit="10"
                stroke-linecap="round"
              />
            </svg>
          </div>
          <div class="">
            <svg
              width="72"
              height="14"
              viewBox="0 0 72 14"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.902893 6.83296C0.902893 5.09677 1.31751 3.67227 2.14601 2.55872C2.97523 1.44589 4.1622 0.888763 5.70835 0.888763H8.56457C10.11 0.888763 11.2977 1.44517 12.1269 2.55872C12.9561 3.67227 13.37 5.09677 13.37 6.83296V12.3359C13.37 12.6296 13.2527 12.7771 13.0173 12.7771C12.7819 12.7771 12.6646 12.6303 12.6646 12.3359V6.83296C12.6646 5.33503 12.3061 4.10992 11.5892 3.15761C10.8723 2.2053 9.85303 1.7295 8.53146 1.7295H5.7422C4.42062 1.7295 3.40136 2.2053 2.68442 3.15761C1.96749 4.10992 1.60903 5.33503 1.60903 6.83296V12.3359C1.60903 12.6296 1.49171 12.7771 1.25633 12.7771C1.02095 12.7771 0.903614 12.6303 0.903614 12.3359V6.83296H0.902893Z"
                fill="#00103F"
                stroke="#00103F"
                stroke-width="1.1517"
                stroke-miterlimit="10"
              />
              <path
                d="M17.5291 3.03165C16.818 3.89974 16.4285 5.02697 16.3616 6.41332H26.2244C26.4483 6.41332 26.5606 6.55368 26.5606 6.83369C26.5606 7.1137 26.4483 7.25406 26.2244 7.25406H16.3616C16.4285 8.64041 16.818 9.76763 17.5291 10.6357C18.2403 11.5038 19.2293 11.9379 20.4948 11.9379H27.2833C27.5072 11.9379 27.6194 12.0782 27.6194 12.3575C27.6194 12.6368 27.5072 12.7779 27.2833 12.7779H20.4616C18.9155 12.7779 17.7285 12.2215 16.8993 11.1079C16.0701 9.9951 15.6562 8.56987 15.6562 6.83369C15.6562 5.09751 16.0708 3.673 16.8993 2.55945C17.7285 1.44663 18.9155 0.889496 20.4616 0.889496H27.2833C27.5072 0.889496 27.6194 1.02986 27.6194 1.30914C27.6194 1.58843 27.5072 1.72951 27.2833 1.72951H20.4948C19.2293 1.72951 18.2403 2.16356 17.5291 3.03165Z"
                fill="#00103F"
                stroke="#00103F"
                stroke-width="1.1517"
                stroke-miterlimit="10"
              />
              <path
                d="M41.3124 2.55872C42.1416 3.67155 42.5555 5.09677 42.5555 6.83296C42.5555 8.56914 42.1409 9.99365 41.3124 11.1072C40.4832 12.22 39.2962 12.7771 37.7501 12.7771H34.4231C32.8769 12.7771 31.69 12.2207 30.8608 11.1072C30.0315 9.99437 29.6176 8.56914 29.6176 6.83296C29.6176 5.09677 30.0323 3.67227 30.8608 2.55872C31.69 1.44589 32.8769 0.888763 34.4231 0.888763H37.7501C39.2962 0.888763 40.4832 1.44517 41.3124 2.55872ZM34.4569 1.7295C33.1354 1.7295 32.1161 2.2053 31.3992 3.15761C30.6822 4.10992 30.3238 5.33503 30.3238 6.83296C30.3238 8.33088 30.6822 9.53873 31.3992 10.4982C32.1161 11.4577 33.1354 11.9371 34.4569 11.9371H37.717C39.0385 11.9371 40.0578 11.4577 40.7747 10.4982C41.4916 9.53945 41.8501 8.31721 41.8501 6.83296C41.8501 5.34871 41.4916 4.10992 40.7747 3.15761C40.0578 2.2053 39.0385 1.7295 37.717 1.7295H34.4569Z"
                fill="#00103F"
                stroke="#00103F"
                stroke-width="1.1517"
                stroke-miterlimit="10"
              />
              <path
                d="M50.9406 12.5663C50.8621 12.7066 50.7614 12.7764 50.6383 12.7764C50.5152 12.7764 50.4144 12.7066 50.3359 12.5663L44.052 1.62369C43.9959 1.53947 43.9678 1.44158 43.9678 1.33001C43.9678 1.03632 44.0851 0.888763 44.3205 0.888763C44.4436 0.888763 44.5443 0.96578 44.6228 1.11982L50.6548 11.6629L56.7034 1.11982C56.7934 0.96578 56.8884 0.888763 56.9892 0.888763C57.213 0.888763 57.3253 1.02912 57.3253 1.30841C57.3253 1.4207 57.2972 1.51859 57.2411 1.60209L50.9399 12.5655L50.9406 12.5663Z"
                fill="#00103F"
                stroke="#00103F"
                stroke-width="1.1517"
                stroke-miterlimit="10"
              />
              <path
                d="M61.3238 12.7764C60.5061 12.7764 59.8734 12.4756 59.425 11.8731C58.9765 11.2706 58.7527 10.5083 58.7527 9.58407C58.7527 8.65983 58.9737 7.90044 59.4163 7.30516C59.859 6.70987 60.4946 6.41259 61.3231 6.41259H70.161C70.094 5.02623 69.7075 3.89901 69.0013 3.03092C68.2959 2.16283 67.3098 1.72878 66.0444 1.72878H59.407C59.1831 1.72878 59.0708 1.58842 59.0708 1.30841C59.0708 1.0284 59.1831 0.888763 59.407 0.888763H66.0775C67.6236 0.888763 68.8106 1.44517 69.6398 2.55872C70.469 3.67227 70.8829 5.09677 70.8829 6.83296V7.71472C70.8829 9.19897 70.5302 10.4133 69.8241 11.3584C69.1187 12.3035 68.1045 12.7764 66.7829 12.7764H61.3224H61.3238ZM69.2634 10.7185C69.8738 9.90655 70.179 8.86354 70.179 7.58948V7.25332H61.3411C60.7365 7.25332 60.2715 7.47359 59.9461 7.91483C59.6215 8.35608 59.4588 8.91969 59.4588 9.60567C59.4588 10.2916 59.6215 10.8517 59.9461 11.2857C60.2708 11.7198 60.7358 11.9364 61.3411 11.9364H66.6504C67.782 11.9364 68.653 11.5304 69.2634 10.7185Z"
                fill="#00103F"
                stroke="#00103F"
                stroke-width="1.1517"
                stroke-miterlimit="10"
              />
            </svg>
          </div>
        </div>
        <div class="login-content">
          <h1 class="login-title">neoCare<br />長照資訊管理平台</h1>

          <div class="form-groups">
            <div class="form-group">
              <label for="userID">使用者ID</label>
              <input
                type="text"
                id="userID"
                placeholder="請輸入帳號"
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="password">密碼</label>
              <div class="password-input-group">
                <input
                  type="password"
                  id="password"
                  placeholder="請輸入密碼"
                  class="form-input"
                />
                <button
                  type="button"
                  class="password-toggle-btn"
                  onclick="togglePassword()"
                >
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="form-group">
              <label for="captcha">驗證碼</label>
              <div class="captcha-group">
                <input
                  type="text"
                  id="captcha"
                  placeholder="請輸入右側驗證碼"
                  class="form-input captcha-input"
                />
                <div class="captcha-image-container">
                  <button
                    type="button"
                    class="captcha-image"
                    onclick="refreshCaptcha()"
                  >
                    <img src="./img/captcha.png" alt="驗證碼" />
                  </button>
                  <span class="captcha-refresh">25秒後自動更新</span>
                </div>
              </div>
            </div>
          </div>

          <button class="btn btn-primary login-button" onclick="handleLogin()">
            登入
          </button>
        </div>
      </div>
      <div class="banner">
        <img src="./img/t1.png" alt="Banner Image 1" class="banner-img" />
        <img src="./img/t2.png" alt="Banner Image 2" class="banner-img" />
        <img src="./img/t3.png" alt="Banner Image 3" class="banner-img" />
      </div>
    </div>
  </body>
  <script>
    let countdown = 60;
    let timer = null;

    // 滑鼠移動效果
    const banner = document.querySelector(".banner");
    const images = document.querySelectorAll(".banner-img");

    document.addEventListener("mousemove", (e) => {
      const rect = banner.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      const xPercent = x / rect.width;
      const yPercent = y / rect.height;

      const moveX = (xPercent - 0.5) * 20;
      const moveY = (yPercent - 0.5) * 20;

      images.forEach((img, index) => {
        const factor = (index + 1) * 0.5;
        img.style.transform = `translate(${moveX * factor}px, ${
          moveY * factor
        }px)`;
      });
    });

    document.addEventListener("mouseleave", () => {
      images.forEach((img) => {
        img.style.transform = "translate(0, 0)";
      });
    });

    function refreshCaptcha() {
      // 這裡應該調用後端 API 來獲取新的驗證碼圖片
      const captchaImg = document.querySelector(".captcha-image img");
      captchaImg.src = "./img/captcha.png?" + new Date().getTime();

      // 重置倒計時
      countdown = 60;
      updateCountdown();

      // 清除舊的定時器
      if (timer) {
        clearInterval(timer);
      }

      // 啟動新的定時器
      timer = setInterval(() => {
        countdown--;
        updateCountdown();

        if (countdown <= 0) {
          refreshCaptcha();
        }
      }, 1000);
    }

    function updateCountdown() {
      const refreshText = document.querySelector(".captcha-refresh");
      refreshText.textContent = `${countdown}秒後自動更新`;
    }

    // 頁面加載時啟動定時器
    window.addEventListener("load", () => {
      refreshCaptcha();
    });

    function handleLogin() {
      const userID = document.getElementById("userID").value;
      const password = document.getElementById("password").value;
      const captcha = document.getElementById("captcha").value;

      // 驗證輸入
      if (!userID || !password || !captcha) {
        alert("請填寫所有必填欄位");
        return;
      }

      // 這裡應該調用後端 API 進行登入驗證
      // 目前先模擬登入成功
      window.location.href = "./index.html";
    }

    function togglePassword() {
      const passwordInput = document.getElementById("password");
      const toggleBtn = document.querySelector(".password-toggle-btn i");
      const type =
        passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);

      // 切換圖示
      if (type === "text") {
        toggleBtn.className = "fas fa-eye-slash";
      } else {
        toggleBtn.className = "fas fa-eye";
      }
    }
  </script>
</html>
